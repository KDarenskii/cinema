"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[249],{5951:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var s=t(4165),a=t(3433),r=t(5861),c=t(9439),u=t(2791),i=t(1087),o=t(9331),l=t(3674),f=t(5084),m=t(9026),p=t(8540),v=t(6498),Z=t(7620),h=t(4771),g=t(5655),d=t(7345),x=t(1339),_=t(1912),j=t(184),k=function(){var e=u.useState(!1),n=(0,c.Z)(e,2),t=n[0],k=n[1],w=u.useState(null),N=(0,c.Z)(w,2),S=N[0],b=N[1],y=u.useState([]),C=(0,c.Z)(y,2),M=C[0],T=C[1],q=u.useState(1),E=(0,c.Z)(q,2),A=E[0],F=E[1],I=u.useState(0),L=(0,c.Z)(I,2),O=L[0],V=L[1],z=(0,i.lr)(),B=(0,c.Z)(z,1)[0],D=B.toString().length>0;u.useEffect((function(){F(1),T([])}),[B]);var G=u.useCallback(function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n,t){var r,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(null),k(!0),e.prev=2,e.next=5,x.Z.fetchTrailers({params:{type:Z.a.MOVIE,q:B.get("q"),_page:n,_limit:12},cancelToken:null===t||void 0===t?void 0:t.token});case 5:r=e.sent,V(Number(r.headers["x-total-count"])),T((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(r.data))})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),u=e.t0,b(null!==(c=u.message)&&void 0!==c?c:null);case 14:return e.prev=14,k(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(n,t){return e.apply(this,arguments)}}(),[B]);return u.useEffect((function(){var e=_.Z.CancelToken.source();return G(A,e),function(){e.cancel()}}),[G,B,A]),(0,j.jsxs)("div",{className:"movies-page",children:[(0,j.jsx)(p.Z,{className:"movies-page__search"}),(0,j.jsxs)("section",{className:"movies-page__list",children:[(0,j.jsx)(v.Z,{className:"movies-page__title",text:D?"Found ".concat(t?"":M.length," results for '").concat(B.get("q"),"'"):"Movies"}),!S&&(0,j.jsx)(h.Z,{next:function(){return F((function(e){return e+1}))},dataLength:M.length,hasMore:M.length<O,loader:(0,j.jsx)(d.Z,{}),className:"movies-page__scroll",style:{overflow:"initial"},endMessage:(0,j.jsx)(g.Z,{className:"movies-page__list-message",message:"There is no more content to show you ^_^"}),children:(0,j.jsxs)(f.Z,{children:[M.map((function(e){return(0,j.jsx)(o.Z,{preview:e},e.id)})),t&&(0,a.Z)(new Array(12)).map((function(e,n){return(0,j.jsx)(l.Z,{},n)}))]})}),S&&(0,j.jsx)(m.Z,{message:S,onClick:function(){return G(A)}})]})]})}}}]);
//# sourceMappingURL=Movies.36f421bf.chunk.js.map